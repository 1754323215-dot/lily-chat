# ğŸš€ Lily Chat éƒ¨ç½²æµç¨‹

## ğŸ“‹ å·¥ä½œæµç¨‹æ¦‚è¿°

```
æœ¬åœ°å¼€å‘ â†’ æäº¤åˆ° GitHub â†’ æœåŠ¡å™¨ä» GitHub æ‹‰å– â†’ éƒ¨ç½²
```

## ğŸ”„ æ—¥å¸¸æ›´æ–°æµç¨‹

### 1. æœ¬åœ°å¼€å‘å¹¶æäº¤åˆ° GitHub

åœ¨æœ¬åœ°å®Œæˆä»£ç ä¿®æ”¹åï¼š

```bash
cd F:\A\mobile-app

# æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add .

# æäº¤æ›´æ”¹
git commit -m "æè¿°ä½ çš„æ›´æ”¹å†…å®¹"

# æ¨é€åˆ° GitHub
git push
```

### 2. æœåŠ¡å™¨ä» GitHub æ‹‰å–å¹¶éƒ¨ç½²

ç™»å½•åˆ°æœåŠ¡å™¨åï¼Œæ‰§è¡Œéƒ¨ç½²è„šæœ¬ï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•ï¼ˆæ ¹æ®å®é™…æƒ…å†µè°ƒæ•´è·¯å¾„ï¼‰
cd /path/to/lily-chat

# æ‰§è¡Œéƒ¨ç½²è„šæœ¬
bash deploy.sh
```

æˆ–è€…æ‰‹åŠ¨æ‰§è¡Œï¼š

```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# å®‰è£…ä¾èµ–ï¼ˆå¦‚æœæœ‰æ›´æ–°ï¼‰
npm install

# é‡å¯æœåŠ¡ï¼ˆæ ¹æ®ä½ çš„éƒ¨ç½²æ–¹å¼é€‰æ‹©ï¼‰
# PM2
pm2 restart lily-chat

# æˆ– systemd
sudo systemctl restart lily-chat
```

## ğŸ“¦ é¦–æ¬¡éƒ¨ç½²åˆ°æœåŠ¡å™¨

### å‰ææ¡ä»¶

1. **æœåŠ¡å™¨å·²å®‰è£… Git**
   ```bash
   git --version
   ```

2. **æœåŠ¡å™¨å·²å®‰è£… Node.js**ï¼ˆç”¨äº website éƒ¨åˆ†ï¼‰
   ```bash
   node -v
   npm -v
   ```

3. **é…ç½® SSH å¯†é’¥**ï¼ˆæ¨èï¼‰æˆ–ä½¿ç”¨ HTTPS + Personal Access Token

### æ­¥éª¤ 1: å…‹éš†ä»“åº“åˆ°æœåŠ¡å™¨

```bash
# åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir -p /var/www/lily-chat
cd /var/www/lily-chat

# å…‹éš†ä»“åº“
git clone https://github.com/1754323215-dot/lily-chat.git .

# æˆ–è€…ä½¿ç”¨ SSHï¼ˆå¦‚æœé…ç½®äº† SSH å¯†é’¥ï¼‰
# git clone git@github.com:1754323215-dot/lily-chat.git .
```

### æ­¥éª¤ 2: å®‰è£…ä¾èµ–

```bash
# å®‰è£…ä¸»é¡¹ç›®ä¾èµ–ï¼ˆå¦‚æœéœ€è¦ï¼‰
npm install

# å®‰è£…ç½‘ç«™ä¾èµ–
cd website
npm install
cd ..
```

### æ­¥éª¤ 3: é…ç½®ç¯å¢ƒå˜é‡

æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š

- `constants/config.js` - API åœ°å€é…ç½®
- `website/server.js` - æœåŠ¡å™¨ç«¯å£é…ç½®

### æ­¥éª¤ 4: å¯åŠ¨æœåŠ¡

#### ç½‘ç«™æœåŠ¡ï¼ˆwebsiteï¼‰

```bash
cd website

# ä½¿ç”¨ PM2ï¼ˆæ¨èï¼‰
pm2 start server.js --name lily-website
pm2 save

# æˆ–ä½¿ç”¨ systemdï¼ˆè§ website/éƒ¨ç½²è¯´æ˜.mdï¼‰
```

#### ç§»åŠ¨åº”ç”¨æ„å»º

ç§»åŠ¨åº”ç”¨é€šå¸¸ä¸éœ€è¦åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œä½†å¯ä»¥é…ç½® CI/CD è‡ªåŠ¨æ„å»º APKã€‚

## ğŸ” GitHub èº«ä»½éªŒè¯

### æ–¹æ³• 1: SSH å¯†é’¥ï¼ˆæ¨èï¼‰

1. **åœ¨æœåŠ¡å™¨ä¸Šç”Ÿæˆ SSH å¯†é’¥**ï¼š
   ```bash
   ssh-keygen -t ed25519 -C "your_email@example.com"
   ```

2. **å°†å…¬é’¥æ·»åŠ åˆ° GitHub**ï¼š
   - å¤åˆ¶ `~/.ssh/id_ed25519.pub` å†…å®¹
   - è®¿é—® GitHub Settings â†’ SSH and GPG keys â†’ New SSH key
   - ç²˜è´´å…¬é’¥å¹¶ä¿å­˜

3. **æµ‹è¯•è¿æ¥**ï¼š
   ```bash
   ssh -T git@github.com
   ```

### æ–¹æ³• 2: Personal Access Tokenï¼ˆHTTPSï¼‰

1. **åˆ›å»º Token**ï¼š
   - GitHub Settings â†’ Developer settings â†’ Personal access tokens â†’ Tokens (classic)
   - ç”Ÿæˆæ–° tokenï¼Œå‹¾é€‰ `repo` æƒé™

2. **ä½¿ç”¨ Token**ï¼š
   ```bash
   git clone https://YOUR_TOKEN@github.com/1754323215-dot/lily-chat.git
   ```

## ğŸ“ è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬

å·²åˆ›å»º `deploy.sh` è„šæœ¬ï¼Œå¯ä»¥ä¸€é”®å®Œæˆæ‹‰å–å’Œéƒ¨ç½²ï¼š

```bash
bash deploy.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. æ‹‰å–æœ€æ–°ä»£ç 
2. å®‰è£…ä¾èµ–ï¼ˆå¦‚æœ‰æ›´æ–°ï¼‰
3. é‡å¯æœåŠ¡

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ•æ„Ÿä¿¡æ¯**ï¼šä¸è¦å°†å¯†é’¥ã€å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯æäº¤åˆ° GitHub
2. **`.gitignore`**ï¼šç¡®ä¿å·²æ­£ç¡®é…ç½®ï¼Œé¿å…æäº¤ `node_modules`ã€`.env` ç­‰æ–‡ä»¶
3. **åˆ†æ”¯ç®¡ç†**ï¼šå»ºè®®ä½¿ç”¨ `main` åˆ†æ”¯ä½œä¸ºç”Ÿäº§åˆ†æ”¯
4. **å¤‡ä»½**ï¼šéƒ¨ç½²å‰å»ºè®®å¤‡ä»½å½“å‰ç‰ˆæœ¬
5. **æµ‹è¯•**ï¼šé‡è¦æ›´æ–°å»ºè®®å…ˆåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [GitHub ä»“åº“](https://github.com/1754323215-dot/lily-chat)
- [ç½‘ç«™éƒ¨ç½²è¯´æ˜](website/éƒ¨ç½²è¯´æ˜.md)
- [æœåŠ¡å™¨é…ç½®è¯´æ˜](æœåŠ¡å™¨é…ç½®è¯´æ˜.md)

