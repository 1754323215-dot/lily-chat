# ğŸš€ ç½‘ç«™éƒ¨ç½²è¯´æ˜

## éƒ¨ç½²ç›®æ ‡
- **æœåŠ¡å™¨åœ°å€**: `139.129.194.84`
- **ç«¯å£**: `8084`
- **è®¿é—®åœ°å€**: `http://139.129.194.84:8084`

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. ç¡®ä¿æœåŠ¡å™¨å·²å®‰è£… Node.js
åœ¨æœåŠ¡å™¨ä¸Šæ£€æŸ¥ Node.js ç‰ˆæœ¬ï¼š
```bash
node -v
npm -v
```

å¦‚æœæ²¡æœ‰å®‰è£…ï¼Œè¯·å…ˆå®‰è£… Node.jsï¼ˆæ¨è v16+ï¼‰

### 2. å‡†å¤‡éƒ¨ç½²æ–‡ä»¶
éœ€è¦ä¸Šä¼ ä»¥ä¸‹æ–‡ä»¶åˆ°æœåŠ¡å™¨ï¼š
- `server.js`
- `package.json`
- `public/` ç›®å½•ï¼ˆåŒ…å«æ‰€æœ‰é™æ€æ–‡ä»¶ï¼‰

## ğŸ”§ éƒ¨ç½²æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ SCP ä¸Šä¼ ï¼ˆæ¨èï¼‰

#### Windows PowerShell ä½¿ç”¨ SCPï¼š

```powershell
# 1. è¿›å…¥ website ç›®å½•
cd F:\A\mobile-app\website

# 2. ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨ï¼ˆéœ€è¦æ›¿æ¢ USERNAME ä¸ºå®é™…ç”¨æˆ·åï¼‰
scp -r server.js package.json public USERNAME@139.129.194.84:/path/to/website/

# ç¤ºä¾‹ï¼ˆå¦‚æœç½‘ç«™ç›®å½•åœ¨ /var/www/lily-websiteï¼‰ï¼š
scp -r server.js package.json public root@139.129.194.84:/var/www/lily-website/
```

#### ä½¿ç”¨ WinSCPï¼ˆå›¾å½¢ç•Œé¢å·¥å…·ï¼‰ï¼š
1. ä¸‹è½½å®‰è£… WinSCP
2. è¿æ¥åˆ°æœåŠ¡å™¨ï¼š`139.129.194.84`
3. ä¸Šä¼  `server.js`ã€`package.json` å’Œ `public/` ç›®å½•

### æ–¹æ³•äºŒï¼šä½¿ç”¨ Gitï¼ˆå¦‚æœæœåŠ¡å™¨æœ‰ Gitï¼‰

```bash
# åœ¨æœåŠ¡å™¨ä¸Š
cd /path/to/website
git pull origin main  # æˆ–ç›¸åº”çš„åˆ†æ”¯å
npm install
```

### æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ FTP å·¥å…·
ä½¿ç”¨ FileZilla æˆ–å…¶ä»– FTP å®¢æˆ·ç«¯ä¸Šä¼ æ–‡ä»¶

## ğŸ“¦ æœåŠ¡å™¨ç«¯æ“ä½œæ­¥éª¤

### 1. è¿æ¥åˆ°æœåŠ¡å™¨
```bash
ssh USERNAME@139.129.194.84
```

### 2. åˆ›å»ºç½‘ç«™ç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
```bash
mkdir -p /var/www/lily-website
cd /var/www/lily-website
```

### 3. ä¸Šä¼ æ–‡ä»¶åï¼Œå®‰è£…ä¾èµ–
```bash
npm install
```

### 4. å¯åŠ¨æœåŠ¡å™¨

#### æ–¹å¼ Aï¼šç›´æ¥è¿è¡Œï¼ˆæµ‹è¯•ç”¨ï¼‰
```bash
node server.js
```

#### æ–¹å¼ Bï¼šä½¿ç”¨ PM2ï¼ˆæ¨èï¼Œç”Ÿäº§ç¯å¢ƒï¼‰
```bash
# å®‰è£… PM2
npm install -g pm2

# å¯åŠ¨æœåŠ¡
pm2 start server.js --name lily-website

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
pm2 save

# æŸ¥çœ‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs lily-website
```

#### æ–¹å¼ Cï¼šä½¿ç”¨ systemdï¼ˆç³»ç»ŸæœåŠ¡ï¼‰
åˆ›å»ºæœåŠ¡æ–‡ä»¶ `/etc/systemd/system/lily-website.service`ï¼š

```ini
[Unit]
Description=Lily Website Server
After=network.target

[Service]
Type=simple
User=www-data
WorkingDirectory=/var/www/lily-website
ExecStart=/usr/bin/node server.js
Restart=always
RestartSec=10
Environment=NODE_ENV=production
Environment=PORT=8084
Environment=HOST=0.0.0.0

[Install]
WantedBy=multi-user.target
```

ç„¶åå¯åŠ¨æœåŠ¡ï¼š
```bash
sudo systemctl daemon-reload
sudo systemctl enable lily-website
sudo systemctl start lily-website
sudo systemctl status lily-website
```

## ğŸ”¥ é˜²ç«å¢™é…ç½®

ç¡®ä¿æœåŠ¡å™¨é˜²ç«å¢™å…è®¸ 8084 ç«¯å£ï¼š

```bash
# Ubuntu/Debian (ufw)
sudo ufw allow 8084/tcp
sudo ufw reload

# CentOS/RHEL (firewalld)
sudo firewall-cmd --permanent --add-port=8084/tcp
sudo firewall-cmd --reload

# æˆ–è€…ç›´æ¥ç¼–è¾‘ iptables
sudo iptables -A INPUT -p tcp --dport 8084 -j ACCEPT
```

## âœ… éªŒè¯éƒ¨ç½²

1. **æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œ**ï¼š
   ```bash
   # å¦‚æœä½¿ç”¨ PM2
   pm2 status
   
   # å¦‚æœä½¿ç”¨ systemd
   sudo systemctl status lily-website
   
   # æ£€æŸ¥ç«¯å£
   netstat -tlnp | grep 8084
   ```

2. **æµ‹è¯•è®¿é—®**ï¼š
   - åœ¨æµè§ˆå™¨è®¿é—®ï¼š`http://139.129.194.84:8084`
   - åº”è¯¥èƒ½çœ‹åˆ° Lily å®˜ç½‘é¦–é¡µ

## ğŸ”„ æ›´æ–°éƒ¨ç½²

å½“éœ€è¦æ›´æ–°ç½‘ç«™æ—¶ï¼š

1. **ä¸Šä¼ æ–°æ–‡ä»¶**ï¼ˆä½¿ç”¨ SCP æˆ– FTPï¼‰
2. **é‡å¯æœåŠ¡**ï¼š
   ```bash
   # PM2
   pm2 restart lily-website
   
   # systemd
   sudo systemctl restart lily-website
   
   # ç›´æ¥è¿è¡Œ
   # å…ˆåœæ­¢æ—§è¿›ç¨‹ï¼Œç„¶åé‡æ–°è¿è¡Œ node server.js
   ```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ç¡®ä¿ Node.js ç‰ˆæœ¬å…¼å®¹**ï¼ˆæ¨è v16+ï¼‰
2. **ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ PM2 æˆ– systemd** ç®¡ç†è¿›ç¨‹
3. **å®šæœŸå¤‡ä»½** `public/` ç›®å½•
4. **ç›‘æ§æ—¥å¿—**ï¼ŒåŠæ—¶å‘ç°é—®é¢˜
5. **å¦‚æœä½¿ç”¨ Nginx åå‘ä»£ç†**ï¼Œå¯ä»¥é…ç½®åŸŸåè®¿é—®

## ğŸŒ Nginx åå‘ä»£ç†é…ç½®ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦é€šè¿‡åŸŸåè®¿é—®ï¼ˆå¦‚ `http://lily.com`ï¼‰ï¼Œå¯ä»¥é…ç½® Nginxï¼š

```nginx
server {
    listen 80;
    server_name lily.com www.lily.com;

    location / {
        proxy_pass http://localhost:8084;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```
